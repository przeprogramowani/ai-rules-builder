---
import Layout from '../../../layouts/Layout.astro';
import Topbar from '../../../components/Topbar';
import Footer from '../../../components/Footer';
import PromptsAdminPanel from '../../../components/prompt-library/admin/PromptsAdminPanel';
import { isFeatureEnabled } from '../../../features/featureFlags';

const user = Astro.locals.user;
// Middleware already ensures admin access
const showInvites = isFeatureEnabled('orgInvites');
---

<Layout title="Prompts Admin Panel">
  <div class="flex flex-col h-screen max-h-screen bg-gray-950 overflow-hidden">
    <Topbar client:load initialUser={user} />
    <main class="flex-grow overflow-auto">
      <PromptsAdminPanel client:load showInvites={showInvites} />
    </main>
    <Footer client:load />
  </div>
</Layout>
