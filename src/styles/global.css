@import 'tailwindcss';
@plugin "@tailwindcss/typography";

/* Landing page animations */
@import './animations/keyframes.css';
@import './animations/entrances.css';
@import './animations/micro-interactions.css';
@import './animations/reduced-motion.css';

@theme {
  --font-mono: 'Noto Sans Mono', monospace;
}

@layer utilities {
  @keyframes accordion-down {
    from {
      height: 0;
      opacity: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
      opacity: 1;
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
      opacity: 1;
    }
    to {
      height: 0;
      opacity: 0;
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
      transform: scale(1);
    }
    to {
      opacity: 0;
      transform: scale(0.95);
    }
  }

  @keyframes scrollFadeIn {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-accordion-down {
    animation: accordion-down 0.2s ease-out;
  }

  .animate-accordion-up {
    animation: accordion-up 0.2s ease-out;
  }

  .animate-fade-in {
    animation: scrollFadeIn 0.8s ease-out forwards;
  }

  .animate-fade-out {
    animation: fadeOut 0.2s ease-out forwards;
  }

  .animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s ease-out,
      transform 0.8s ease-out;
  }

  .animate-on-scroll.animate-fade-in {
    opacity: 1;
    transform: translateY(0);
  }

  button {
    cursor: pointer;
  }

  /* Landing page background patterns and gradients */
  .bg-grid-pattern {
    background-image:
      linear-gradient(to right, rgba(75, 85, 99, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(75, 85, 99, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  .bg-dots-pattern {
    background-image: radial-gradient(rgba(75, 85, 99, 0.3) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .gradient-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px); /* Full quality for capable browsers (Chrome Desktop) */
    opacity: 0.3;
    pointer-events: none;
    animation: float 20s ease-in-out infinite;
    will-change: transform;
  }

  /* Performance: Disable expensive gradient orbs on Safari, mobile, and reduced motion */
  /* Gradient orbs with blur + animation are too expensive for these devices/preferences */
  .is-safari .gradient-orb,
  .is-mobile .gradient-orb,
  .prefers-reduced-motion .gradient-orb {
    display: none; /* Hide entirely for smooth 60fps scrolling */
  }

  .gradient-orb-blue {
    background: radial-gradient(circle, rgba(59, 130, 246, 0.5) 0%, rgba(59, 130, 246, 0) 70%);
  }

  .gradient-orb-teal {
    background: radial-gradient(circle, rgba(20, 184, 166, 0.5) 0%, rgba(20, 184, 166, 0) 70%);
  }

  .gradient-orb-purple {
    background: radial-gradient(circle, rgba(168, 85, 247, 0.5) 0%, rgba(168, 85, 247, 0) 70%);
  }

  @keyframes float {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -30px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  .gradient-mesh {
    background:
      radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.08) 0px, transparent 50%),
      radial-gradient(at 100% 0%, rgba(20, 184, 166, 0.08) 0px, transparent 50%),
      radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.08) 0px, transparent 50%),
      radial-gradient(at 0% 100%, rgba(59, 130, 246, 0.08) 0px, transparent 50%);
    filter: blur(40px);
  }

  /* Performance: Simplify background patterns on mobile */
  .is-mobile .bg-grid-pattern,
  .is-mobile .bg-dots-pattern {
    background-image: none;
    background-color: transparent;
  }

  .is-mobile .gradient-mesh {
    filter: none;
    opacity: 0.3;
  }
}

/* Dark mode scrollbar styles to match the dark theme UI */
@layer utilities {
  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: #4b5563 #1f2937;
  }

  /* Chrome, Edge, Safari */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #1f2937; /* gray-800 */
  }

  ::-webkit-scrollbar-thumb {
    background: #4b5563; /* gray-600 */
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #6b7280; /* gray-500 */
  }
}

#cf-captcha-container {
  display: none;
}

/* Fix 1Password autofill text visibility on dark backgrounds */
/* Using high specificity without layers to override 1Password's inline styles */
input[type='text'][data-com-onepassword-filled],
input[type='email'][data-com-onepassword-filled],
input[type='password'][data-com-onepassword-filled],
input[type='text'][data-com-onepassword-filled='light'],
input[type='email'][data-com-onepassword-filled='light'],
input[type='password'][data-com-onepassword-filled='light'],
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-text-fill-color: #e5e7eb !important; /* gray-200 - force light text */
  color: #e5e7eb !important;
  caret-color: #e5e7eb !important; /* cursor color */
  -webkit-box-shadow: 0 0 0 1000px rgba(31, 41, 55, 0.5) inset !important; /* maintain dark background */
  box-shadow: 0 0 0 1000px rgba(31, 41, 55, 0.5) inset !important;
  transition: background-color 5000s ease-in-out 0s; /* prevent browser autofill yellow background */
}
